const isMobile={Android:function(){return navigator.userAgent.match(/Android/i);},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i);},IOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i);},Opera:function(){return navigator.userAgent.match(/Opera Mini/i);},Windows:function(){return navigator.userAgent.match(/IEMibile/i);},any:function(){return(isMobile.Android()||isMobile.BlackBerry()||isMobile.IOS()||isMobile.Opera()||isMobile.Windows());}};if(isMobile.any()){document.body.classList.add('_touch');}else{document.body.classList.add('_pc');};$(document).ready(function(){let slider=document.querySelector('.slider');if(slider){$('.slider').slick({dots:true,infinite:true,speed:100,slidesToShow:1,cssEase:'ease',adaptiveHeight:false,draggable:false,touchMove:false,waitForAnimate:false,variableWidth:false,touchThreshold:7,});};})
jQuery(window).on('load',function(){let sizer='.sizer4';let container=$('.gallery');if(container){container.imagesLoaded(function(){container.masonry({itemSelector:'.item-masonry',percentPosition:true,transitionDuration:'0.2s',})});}});if(document.body.classList.contains('_touch')){$(".header-profile-avatar").on('click',function(e){rlMenu('#profile-menu-mobile','.close-ham-menu-2');});}else{$('.header__profile').on('click',function(){$(this).toggleClass('_active');});$(document).on('click',function(e){if(!e.target.closest('.profile-dropdown')&&!e.target.closest('.header__profile')){$('.header__profile._active').removeClass('_active');}});}
function rlMenu(rlmenu,close){const menu=document.querySelector(rlmenu)
const closeHamMenu=document.querySelector(close)
menu.classList.toggle('_active');document.body.classList.toggle('_lock')
$(document).on('mouseup',function(e){let s=$(menu)
if(menu.classList.contains('_active')===true){if(!s.is(e.target)&&s.has(e.target).length===0){s.removeClass('_active');document.body.classList.remove('_lock')}else{if(closeHamMenu){closeHamMenu.addEventListener("click",function(e){menu.classList.remove('_active');document.body.classList.remove('_lock')});}}}});}
$(".header__mobile-navigation").on('click',function(e){rlMenu('#nav-menu-mobile','.close-ham-menu')});$(".like-btn").on('click',function(e){e.currentTarget.classList.toggle('_active');});$(".checkbox").on('click',function(e){var context=$(e.currentTarget);let value=context.children('.dissabled-and-enabled').val();if(value==='0'){context.children('.dissabled-and-enabled').val('1')}else if(value==='1'){context.children('.dissabled-and-enabled').val('2')}else if(value==='2'){context.children('.dissabled-and-enabled').val('0')}});let lastScroll=0;const defaultOffset=200;const header=document.querySelector('.header');const scrollPosition=()=>window.pageYOffset||document.documentElement.scrollTop;const containHide=()=>header.classList.contains('_hide-header');window.addEventListener('scroll',()=>{if(scrollPosition()>lastScroll&&!containHide()&&scrollPosition()>defaultOffset){header.classList.add('_hide-header');}else if(scrollPosition()<lastScroll&&containHide()){header.classList.remove('_hide-header');}
lastScroll=scrollPosition();});;function btn(button,closebtn,parent){const btn=$(button)
const clsbtn=$(closebtn)
const clsname=$(parent)
const allcont=$('.wrapper')
clsname.addClass('_active');allcont.addClass('_anim-search')
document.body.classList.add('_lock')
$(document).on('mouseup',function(e){if(!e.target.closest('.search-container__wrapper')){clsname.removeClass('_active')
allcont.removeClass('_anim-search')
document.body.classList.remove('_lock')}else{if(clsbtn){clsbtn.click(function(e){clsname.removeClass('_active')
allcont.removeClass('_anim-search')
document.body.classList.remove('_lock')});}}});}
$('.search-button').click(function(){btn('.search-button','.search-input__close','.search-container')});function threeBtn(btnName){let parentBtn=document.querySelector(btnName).parentNode
let arrayBtn=document.querySelectorAll(btnName)
arrayBtn.forEach(function(e){e.dataset.threePos=0});parentBtn.addEventListener('click',function(e){let tar=e.target.closest(btnName)
if(tar){let valuebtn=tar.getAttribute("data-three-pos");if(valuebtn=='0'){tar.dataset.threePos=1}else if(valuebtn=='1'){tar.dataset.threePos=-1}else if(valuebtn=='-1'){tar.dataset.threePos=0}}});}
threeBtn('.tags-list__tag')
class Search{constructor(inputName,itemName){this.inputName=inputName;this.itemName=itemName;}
hide(event){event.classList.remove('_show');$(event).stop(false,true).queue('fx',function(){$(this).fadeOut(200).dequeue('fx');});};show(event){event.classList.add('_show');$(event).stop(false,true).queue('fx',function(){$(this).fadeIn(200).dequeue('fx');});};tagSort(array){const sortArrayTags=[...array].sort(function(x,y){x=x.getAttribute("data-three-pos")
y=y.getAttribute("data-three-pos")
return(!(x=='1'&&y=='1')&&x=='1'||(x=='-1'&&y=='0'))?1:-1});sortArrayTags.forEach(function(e){document.querySelector(this.itemName).parentNode.prepend(e);}.bind(this));};inserMark(string,position,fullLen){return string.slice(0,position)+'<mark>'+string.slice(position,position+fullLen)+'</mark>'+string.slice(position+fullLen);};searchForMatches(text,textInp){return!((text.innerText.toLowerCase().search(textInp)==-1)||(textInp==''));}
search(array,textInp){array.forEach(function(e){let valuebtn=e.getAttribute("data-three-pos");if(this.searchForMatches(e,textInp)){e.getElementsByTagName('span')[0].innerHTML=this.inserMark(e.innerText,e.innerText.toLowerCase().search(textInp),textInp.length);this.show(e);}else{if(valuebtn=='0'){this.hide(e);};e.getElementsByTagName('span')[0].innerHTML=e.innerText;};}.bind(this));};start(){let arrayitem=document.querySelectorAll(this.itemName);document.querySelector(this.itemName).parentNode.addEventListener('click',function(e){if(e.target.closest(this.itemName)){let textInp=document.querySelector(this.inputName).value.trim().toLowerCase();if(!this.searchForMatches(e.target.closest(this.itemName),textInp)){if(e.target.closest(this.itemName).getAttribute("data-three-pos")=='0'){this.hide(e.target.closest(this.itemName))}}
this.tagSort(arrayitem);}}.bind(this));document.querySelector(this.inputName).addEventListener('input',function(){let textInp=document.querySelector(this.inputName).value.trim().toLowerCase();this.search(arrayitem,textInp);}.bind(this));};}
let tagSearch=new Search('.search-input__input','.tags-list__tag');tagSearch.start();;